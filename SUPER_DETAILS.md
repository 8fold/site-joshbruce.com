# Super details

Describing the process of building this version of my personal website.

There are notes throughout the source and tests as well.

The mission is to only build what is needed to solve a particular problem at the time.

Constraints:

1. Content will be separated from the app; only the `index.php` file and `.htaccess` will reside in the `public` folder.
2. Databases will only be used for relationships and only if the relationship can't be handled as quickly using references in flat-files.
3. Code will remain as light as possible. When I've developed sites similar to this in the past most of the code I ended up writing was related to querying databases and use authentication and administration; both will be avoided for as long as possible.

## Present valid HTML on page

For this round we're going to print a string response of a valid HTML document generated by the 8fold HTML Builder library.

Resulting header, without explicity setting any of them:

```bash
HTTP/1.1 200 OK
Date: Thu, 21 Oct 2021 00:15:56 GMT
Server: Apache/2.4.46 (Unix) OpenSSL/1.0.2u mod_fastcgi/mod_fastcgi-SNAP-0910052141 mod_wsgi/3.5 Python/2.7.13 mod_perl/2.0.11 Perl/v5.30.1
X-Powered-By: PHP/8.0.0
Keep-Alive: timeout=5, max=100
Connection: Keep-Alive
Transfer-Encoding: chunked
Content-Type: text/html; charset=UTF-8
```

## Can respond with status 404 Not found

I'm going to want to have a bit more control over the response, sepecifically the headers to be able to specify a 404 error. I'm going to be using the [Slim framework](https://www.slimframework.com) implementation as a reference.

Resulting header using `header` from PSL:

```base
HTTP/1.1 404 Not Found
Date: Thu, 21 Oct 2021 01:08:27 GMT
Server: Apache/2.4.46 (Unix) OpenSSL/1.0.2u mod_fastcgi/mod_fastcgi-SNAP-0910052141 mod_wsgi/3.5 Python/2.7.13 mod_perl/2.0.11 Perl/v5.30.1
X-Powered-By: PHP/8.0.0
cache-control: no-cache, private
Keep-Alive: timeout=5, max=100
Connection: Keep-Alive
Transfer-Encoding: chunked
Content-Type: text/html; charset=UTF-8
```

## Has correct content

All right. We're returning headers.

1. My host uses HTTP 2 by default and if a lower version is used locally, what I set will be overridden.
2. We should be basing the correctness of content on the actual existence of content.
3. I want to make this repository public. This will most likely be the code that actually runs my personal site. Therefore, I don't want to expose where the content lives relative to the app (even though I'm considering making that repo public as well).

Therefore:

1. We will always return the header using HTTP 2.
2. We need a way to check for actual content in the content folder; `8fold/amos` will be used.
3. We need a way to hide the configuratin; `dotenv` seems a viable solution.
